<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Verifica√ß√µes Dimensionais - Consulta</title>
  <style>
    :root {
      --verde: #2e7d32;
      --azul-claro: #a2d5f2;
      --fundo-card: rgba(255, 255, 255, 0.9);
      --texto: #0a3d62;
      --fundo-footer: rgba(0, 0, 0, 0.6);
    }

    body.dark {
      --verde: #81c784;
      --azul-claro: #81d4fa;
      --fundo-card: rgba(0, 0, 0, 0.85);
      --texto: #e3f2fd;
      --fundo-footer: rgba(255, 255, 255, 0.2);
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1950&q=80');
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      color: var(--texto);
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .container {
      max-width: 600px;
      margin: 20px auto;
      background-color: var(--fundo-card);
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    h1 {
      text-align: center;
      color: var(--verde);
      margin-bottom: 10px;
    }

    p {
      text-align: center;
      color: var(--texto);
      font-size: 16px;
      margin-bottom: 25px;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 16px;
      box-sizing: border-box;
    }

    .buttons {
      margin-top: 25px;
      text-align: center;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      margin: 0 10px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background-color: var(--verde);
      color: white;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #1b5e20;
    }

    .reset {
      background-color: #0288d1;
    }

    .reset:hover {
      background-color: #0277bd;
    }

    #tolerancia, #resultado {
      margin-top: 30px;
      background-color: #f4fdfb;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #cce5ff;
    }

    body.dark #tolerancia, body.dark #resultado {
      background-color: #1e1e1e;
      border-color: #555;
    }

    h3 {
      color: var(--verde);
      margin-bottom: 10px;
    }

    footer {
      text-align: center;
      margin-top: 50px;
      padding: 20px;
      background-color: var(--fundo-footer);
      color: white;
      font-size: 14px;
    }

    .theme-toggle {
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
      font-size: 24px;
      user-select: none;
    }
  </style>
  <script>
    function toggleTheme() {
      document.body.classList.toggle('dark');
    }
  </script>
</head>
<body>
  <div class="theme-toggle" onclick="toggleTheme()" title="Alternar modo claro/escuro">üåûüåö</div>
  <div class="container">
    <h1>Verifica√ß√µes Dimensionais - Consulta</h1>
    <p>Favor preencher as informa√ß√µes dimensionais presentes na etiqueta de processo e o tipo de mercado conforme programa√ß√£o. Para coletar os desvios de esquadro e retilinidade, realizar os procedimentos.</p>

    <label for="largura">Largura nominal (mm):</label>
    <input type="number" id="largura" placeholder="Ex: 1200" />

    <label for="comprimento">Comprimento nominal (mm):</label>
    <input type="number" id="comprimento" placeholder="Ex: 2400" />

    <label for="mercado">üåç Escolha o mercado:</label>
    <select id="mercado">
      <option value="interno">Mercado Interno</option>
      <option value="externo">Mercado Externo</option>
    </select>

    <label for="desvioEsquadro">Desvio de esquadro (mm):</label>
    <input type="number" id="desvioEsquadro" min="0" max="99" placeholder="Ex: 5" />

    <label for="desvioRetilinidade">Desvio de retilinidade (mm):</label>
    <input type="number" id="desvioRetilinidade" min="0" max="99" placeholder="Ex: 10" />

    <div class="buttons">
      <button onclick="calcular()">Calcular</button>
      <button class="reset" onclick="resetar()">Zerar</button>
    </div>

    <div id="tolerancia"></div>
    <div id="resultado"></div>
  </div>

  <footer>
    <div>Ferramenta n√£o oficial, auxiliar para consulta operacional. Para exce√ß√µes de especifica√ß√µes, favor consultar documentos internos.</div>
    <div>Desenvolvido por Matheus Felipe</div>
  </footer>

  <script>
    function calcular() {
      const largura = parseFloat(document.getElementById('largura').value);
      const comprimento = parseFloat(document.getElementById('comprimento').value);
      const mercado = document.getElementById('mercado').value;
      const desvioEsq = parseFloat(document.getElementById('desvioEsquadro').value);
      const desvioRet = parseFloat(document.getElementById('desvioRetilinidade').value);
      const resultadoDiv = document.getElementById('resultado');
      const toleranciaDiv = document.getElementById('tolerancia');

      if (isNaN(largura) || isNaN(comprimento)) {
        resultadoDiv.innerHTML = `<span style='color:#d93025;'>Informe largura e comprimento nominais.</span>`;
        return;
      }

      let tolLarg = Math.round((largura / 1000) * 2);
      let tolComp = Math.round((comprimento / 1000) * 2);
      let minLarg = largura - tolLarg;
      let maxLarg = largura + tolLarg;
      let minComp = comprimento - tolComp;
      let maxComp = comprimento + tolComp;

      toleranciaDiv.innerHTML = `
        <hr>
        <h3>Toler√¢ncias - Largura e Comprimento:</h3>
        <ul>
          <li><strong>Largura:</strong> ${minLarg} mm a ${maxLarg} mm (¬±${tolLarg} mm)</li>
          <li><strong>Comprimento:</strong> ${minComp} mm a ${maxComp} mm (¬±${tolComp} mm)</li>
        </ul>
      `;

      if (isNaN(desvioEsq) || isNaN(desvioRet)) {
        resultadoDiv.innerHTML = `<span style='color:#d93025;'>Insira desvios de esquadro e retilinidade.</span>`;
        return;
      }

      let limite = mercado === 'interno' ? 2.55 : 1.65;
      let resultadoEsq = (desvioEsq / 2) / largura * 1000;
      let resultadoRet = desvioRet / comprimento * 1000;
      let aprovadoEsq = resultadoEsq <= limite;
      let aprovadoRet = resultadoRet <= limite;

      resultadoDiv.innerHTML = `
        <hr>
        <h3>Resultados - Esquadro e Retilinidade:</h3>
        <ul>
          <li><strong>Esquadro:</strong> ${resultadoEsq.toFixed(2).replace('.', ',')} mm/m ‚Äî 
            <span style="color:${aprovadoEsq ? '#2e7d32' : '#d93025'}; font-weight:700;">
              ${aprovadoEsq ? 'APROVADO ‚úÖ' : 'REPROVADO ‚ùå'}</span></li>
          <li><strong>Retilinidade:</strong> ${resultadoRet.toFixed(2).replace('.', ',')} mm/m ‚Äî 
            <span style="color:${aprovadoRet ? '#2e7d32' : '#d93025'}; font-weight:700;">
              ${aprovadoRet ? 'APROVADO ‚úÖ' : 'REPROVADO ‚ùå'}</span></li>
        </ul>
      `;
    }

    function resetar() {
      ['largura', 'comprimento', 'desvioEsquadro', 'desvioRetilinidade'].forEach(id => document.getElementById(id).value = '');
      document.getElementById('mercado').value = 'interno';
      document.getElementById('resultado').innerHTML = '';
      document.getElementById('tolerancia').innerHTML = '';
    }
  </script>
</body>
</html>
